<div class="filter-modal">
  <div class="filter-icon-bar"></div>
  <h2>Filtrer</h2>
  <mat-divider></mat-divider>

  <!-- Filtrer par -->
  <div class="filter-section">
    <h3 class="filter-header" (click)="toggleSection('sortBy')">
      Filtrer par
      <span class="toggle-icon">
        <mat-icon>{{ sectionStates['sortBy'] ? 'expand_less' : 'expand_more' }}</mat-icon>
      </span>
    </h3>
    <div *ngIf="sectionStates['sortBy']" class="filter-content">
      <ul class="filter-list">
        <li>
          <label class="radio-label">
            <input type="radio" name="filterBy" value="recent" />
            <span class="radio-custom"></span> 
            Les plus récents
          </label>
        </li>
        <li>
          <label class="radio-label">
            <input type="radio" name="filterBy" value="pertinent" />
            <span class="radio-custom"></span> 
            Les plus pertinents
          </label>
        </li>
      </ul>
    </div>
  </div>
  <mat-divider></mat-divider>

  <!-- Niveau d'étude -->
  <div class="filter-section">
    <h3 class="filter-header" (click)="toggleSection('educationLevel')">
      Niveau d'étude
      <span class="toggle-icon">
        <mat-icon>{{ sectionStates['educationLevel'] ? 'expand_less' : 'expand_more' }}</mat-icon>
      </span>
    </h3>
    <div *ngIf="sectionStates['educationLevel']" class="filter-content">
      <div class="filter-option">
        <button class="filter-button" 
                [ngClass]="{'selected': selectedButton === 'Master/Master 2'}" 
                (click)="selectButton('Master/Master 2')">Master/Master 2</button>
        <button class="filter-button" 
                [ngClass]="{'selected': selectedButton === 'BAC+3'}" 
                (click)="selectButton('BAC+3')">BAC+3</button>
        <button class="filter-button" 
                [ngClass]="{'selected': selectedButton === 'BAC+2'}" 
                (click)="selectButton('BAC+2')">BAC+2</button>
        <button class="filter-button" 
                [ngClass]="{'selected': selectedButton === 'Licence'}" 
                (click)="selectButton('Licence')">Licence</button>
        <button class="filter-button" 
                [ngClass]="{'selected': selectedButton === 'BAC'}" 
                (click)="selectButton('BAC')">BAC</button>
        <button class="filter-button" 
                [ngClass]="{'selected': selectedButton === '+'}" 
                (click)="selectButton('+')">+</button>
      </div>
    </div>
  </div>
  <mat-divider></mat-divider>

  <!-- Lieu -->
  <div class="filter-section">
    <h3 class="filter-header" (click)="toggleSection('location')">
      Lieu
      <span class="toggle-icon">
        <mat-icon>{{ sectionStates['location'] ? 'expand_less' : 'expand_more' }}</mat-icon>
      </span>
    </h3>
    <div *ngIf="sectionStates['location']" class="filter-content">
      <ul class="filter-list">
        <li>
          <label class="checkbox-label">
            <input type="checkbox" name="location" value="paris" />
            <span class="checkbox-custom"></span> Paris
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" name="location" value="lyon" />
            <span class="checkbox-custom"></span> Lyon
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" name="location" value="bordeaux" />
            <span class="checkbox-custom"></span> Bordeaux
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" name="location" value="nantes" />
            <span class="checkbox-custom"></span> Nantes
          </label>
        </li>
      </ul>
    </div>
  </div>
  <mat-divider></mat-divider>

  <!-- Disponibilité -->
  <div class="filter-section">
    <h3 class="filter-header" (click)="toggleSection('availability')">
      Disponibilité
      <span class="toggle-icon">
        <mat-icon>{{ sectionStates['availability'] ? 'expand_less' : 'expand_more' }}</mat-icon>
      </span>
    </h3>
    <div *ngIf="sectionStates['availability']" class="filter-content">
      <ul class="filter-list">
        <li>
          <label class="checkbox-label">
            <input type="checkbox" name="availability" value="immediate" />
            <span class="checkbox-custom"></span> Tout de suite
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" name="availability" value="3_days" />
            <span class="checkbox-custom"></span> Dans les 3 prochains jours
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" name="availability" value="weeks" />
            <span class="checkbox-custom"></span> Prochaines semaines
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" name="availability" value="next_month" />
            <span class="checkbox-custom"></span> Prochain mois
          </label>
        </li>
      </ul>
    </div>
  </div>
  <mat-divider></mat-divider>

  <!-- Age -->
  <div class="age-preference mt-4">
    <div class="filter-section">
      <h3 class="filter-header" (click)="toggleSection('age')">
        Age
        <span class="toggle-icon">
          <mat-icon>{{ sectionStates['age'] ? 'expand_less' : 'expand_more' }}</mat-icon>
        </span>
      </h3>
      <div *ngIf="sectionStates['age']" class="filter-content">
        <ngx-slider
          [(value)]="agePreference.min"
          [(highValue)]="agePreference.max"
          [options]="ageSliderOptions">
        </ngx-slider>
        <div class="age-range"></div>
      </div>
    </div>
  </div>
  <mat-divider></mat-divider>

  <!-- Spécialisation -->
  <div class="filter-section">
    <h3 class="filter-header" (click)="toggleSection('specialization')">
      Spécialisation
      <span class="toggle-icon">
        <mat-icon>{{ sectionStates['specialization'] ? 'expand_less' : 'expand_more' }}</mat-icon>
      </span>
    </h3>
    <div *ngIf="sectionStates['specialization']" class="filter-content">
      <ul class="filter-list">
        <li>
          <label class="checkbox-label">
            <input type="checkbox" name="specialization" value="serveur" />
            <span class="checkbox-custom"></span> Serveur
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" name="specialization" value="livreur" />
            <span class="checkbox-custom"></span> Livreur
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" name="specialization" value="nettoyage" />
            <span class="checkbox-custom"></span> Nettoyage
          </label>
        </li>
        <li>
          <label class="checkbox-label">
            <input type="checkbox" name="specialization" value="chef" />
            <span class="checkbox-custom"></span> Chef
          </label>
        </li>
      </ul>
    </div>
  </div>
  <button class="apply-button" (click)="applyFilters()">Appliquer</button>
</div>