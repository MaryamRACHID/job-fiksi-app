<!-- Affichage des données utilisateur si pas d'erreur et pas en cours de chargement -->
<div *ngIf="!isLoading && !isError">
  <h2>Profil de l'utilisateur</h2>
  
  <!-- Affichage du nom et prénom -->
  <p><strong>Bonjour {{ user.nom }} {{ user.prenom }}</strong></p>
  
  <!-- Affichage de l'image de profil -->
  <div class="profile-image-container">
    <img *ngIf="user.image" [src]="user.image" alt="Avatar de {{ user.nom }} {{ user.prenom }}" class="avatar" />
  </div>
  
  <!-- Affichage du type d'utilisateur et message d'alerte -->
  <p class="alert alert-info">
    Vous êtes un <strong>{{ user.user_type  }}</strong>, 
    n'hésitez pas à compléter votre profil pour augmenter vos chances de trouver un emploi.
  </p>
</div>

<!-- Affichage du message de chargement -->
<div *ngIf="isLoading">Chargement...</div>

<!-- Affichage des erreurs -->
<div *ngIf="isError" class="alert alert-danger">
  {{ errorMessage }}
</div>



  <!-- Header de navigation -->
  <app-header
    [step]="step"
    (previousStep)="goToPreviousStep()"
    (skip)="skip()">
  </app-header>

  <div class="component-container">
    <app-profile-type *ngIf="step === 1" (userTypeSelected)="updateUserType($event)"></app-profile-type>
    <app-informations *ngIf="step === 2" [personalInfo]="{genre: personalInfo.genre, nom: personalInfo.nom, prenom: personalInfo.prenom, date_naissance: personalInfo.date_naissance }" (personalInfoChange)="updatePersonalInfo($event)"></app-informations>
    <app-contact *ngIf="step === 3" (contactInfoChange)="updateContactInfo($event)"></app-contact>
    <app-disponibilites *ngIf="step === 4" (availabilityInfoChange)="updateAvailability($event)"></app-disponibilites>
    <app-description *ngIf="step === 5" (descriptionInfoChange)="updateAvailability($event)"></app-description>
    <app-formation *ngIf="step === 6" (formationInfoChange)="updateFormation($event)"></app-formation>
    <app-experiences *ngIf="step === 7" (experienceInfoChange)="updateExperience($event)"></app-experiences>
    <app-cv *ngIf="step === 8" (experienceInfoChange)="updateExperience($event)"></app-cv>
    <app-preference *ngIf="step === 9" (preferencesChange)="updatePreferences($event)"></app-preference>
    <app-notifications *ngIf="step === 10" (notificationsChange)="updateNotifications($event)"></app-notifications>
  </div>

  <!-- Boutons de navigation -->
  <div class="button-container">
    <button *ngIf="step != 10" (click)="goToNextStep()" [disabled]="!userType" class="fixed-button btn btn-primary full-width">Continuer</button>
    <button *ngIf="step === 10" (click)="saveProfile()" [disabled]="!userType" class="fixed-button btn btn-primary full-width">Terminer mon inscription</button>
  </div>


